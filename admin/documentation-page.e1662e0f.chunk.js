"use strict";(self.webpackChunkbackend=self.webpackChunkbackend||[]).push([[9789],{75730:(j,O,t)=>{t.r(O),t.d(O,{default:()=>Y});var e=t(67294),y=t(97132),a=t(68547),f=t(15482),m=t(29728),b=t(17034),x=t(67838),M=t(49066),h=t(185),E=t(12028),p=t(72735),g=t(46273),r=t(38939),s=t(8060),u=t(79031),d=t(37909),L=t(15234),W=t(20022),w=t(8934),C=t(30815),T=t(80826),R=t(93742),n=t(96486);const l=P=>{const v=(()=>(0,n.startsWith)(P,"/")?`${strapi.backendURL}${P}`:(0,n.startsWith)(P,"https")||(0,n.startsWith)(P,"http")?P:`${strapi.backendURL}/${P}`)();return window.open(v,"_blank"),window.focus()};var c=t(4733),B=Object.defineProperty,A=Object.getOwnPropertySymbols,I=Object.prototype.hasOwnProperty,V=Object.prototype.propertyIsEnumerable,K=(P,v,o)=>v in P?B(P,v,{enumerable:!0,configurable:!0,writable:!0,value:o}):P[v]=o,Q=(P,v)=>{for(var o in v||(v={}))I.call(v,o)&&K(P,o,v[o]);if(A)for(var o of A(v))V.call(v,o)&&K(P,o,v[o]);return P},N=(P,v,o)=>new Promise((H,z)=>{var G=S=>{try{Z(o.next(S))}catch(U){z(U)}},$=S=>{try{Z(o.throw(S))}catch(U){z(U)}},Z=S=>S.done?H(S.value):Promise.resolve(S.value).then(G,$);Z((o=o.apply(P,v)).next())});const Y=()=>{var P;(0,a.useFocusWhenNavigate)();const{formatMessage:v}=(0,y.useIntl)(),{data:o,isLoading:H,deleteMutation:z,regenerateDocMutation:G}=(0,c.Z)(),[$,Z]=(0,e.useState)(!1),[S,U]=(0,e.useState)(!1),[k,q]=(0,e.useState)(),_=4,ee=(((P=o==null?void 0:o.docVersions)==null?void 0:P.length)||0)+1,X=()=>{const D=o!=null&&o.prefix.startsWith("/")?"":"/";l(`${D}${o==null?void 0:o.prefix}/v${o==null?void 0:o.currentVersion}`)},te=D=>{G.mutate({version:D,prefix:o==null?void 0:o.prefix})},ne=()=>{Z(!$)},ae=()=>N(void 0,null,function*(){U(!0),yield z.mutateAsync({prefix:o==null?void 0:o.prefix,version:k}),Z(!$),U(!1)}),re=D=>{q(D),Z(!$)},J=v({id:(0,R.O)("plugin.name"),defaultMessage:"Documentation"});return e.createElement(b.A,null,e.createElement(f.Helmet,{title:J}),e.createElement(h.o,{"aria-busy":H},e.createElement(x.T,{title:J,subtitle:v({id:(0,R.O)("pages.PluginPage.header.description"),defaultMessage:"Configure the documentation plugin"}),primaryAction:e.createElement(a.CheckPermissions,{permissions:T.Z.open},e.createElement(m.z,{onClick:X,startIcon:e.createElement(w.default,null)},v({id:(0,R.O)("pages.PluginPage.Button.open"),defaultMessage:"Open Documentation"})))}),e.createElement(M.D,null,H&&e.createElement(a.LoadingIndicatorPage,null,"Plugin is loading"),o!=null&&o.docVersions.length?e.createElement(r.i,{colCount:_,rowCount:ee},e.createElement(s.h,null,e.createElement(u.Tr,null,e.createElement(d.Th,null,e.createElement(p.Z,{variant:"sigma",textColor:"neutral600"},v({id:(0,R.O)("pages.PluginPage.table.version"),defaultMessage:"Version"}))),e.createElement(d.Th,null,e.createElement(p.Z,{variant:"sigma",textColor:"neutral600"},v({id:(0,R.O)("pages.PluginPage.table.generated"),defaultMessage:"Last Generated"}))))),e.createElement(L.p,null,o.docVersions.sort((D,oe)=>D.generatedDate<oe.generatedDate?1:-1).map(D=>e.createElement(u.Tr,{key:D.version},e.createElement(d.Td,{width:"50%"},e.createElement(p.Z,null,D.version)),e.createElement(d.Td,{width:"50%"},e.createElement(p.Z,null,D.generatedDate)),e.createElement(d.Td,null,e.createElement(g.k,Q({justifyContent:"end"},a.stopPropagation),e.createElement(E.h,{onClick:X,noBorder:!0,icon:e.createElement(w.default,null),label:v({id:(0,R.O)("pages.PluginPage.table.icon.show"),defaultMessage:"Open {target}"},{target:`${D.version}`})}),e.createElement(a.CheckPermissions,{permissions:T.Z.regenerate},e.createElement(E.h,{onClick:()=>te(D.version),noBorder:!0,icon:e.createElement(C.Z,null),label:v({id:(0,R.O)("pages.PluginPage.table.icon.regenerate"),defaultMessage:"Regenerate {target}"},{target:`${D.version}`})})),e.createElement(a.CheckPermissions,{permissions:T.Z.update},D.version!==o.currentVersion&&e.createElement(E.h,{onClick:()=>re(D.version),noBorder:!0,icon:e.createElement(W.default,null),label:v({id:"global.delete-target",defaultMessage:"Delete {target}"},{target:`${D.version}`})})))))))):e.createElement(a.EmptyStateLayout,null)),e.createElement(a.ConfirmDialog,{isConfirmButtonLoading:S,onConfirm:ae,onToggleDialog:ne,isOpen:$})))}},4733:(j,O,t)=>{t.d(O,{Z:()=>p});var e=t(23724),y=t(68547),a=t(49950),f=(g,r,s)=>new Promise((u,d)=>{var L=C=>{try{w(s.next(C))}catch(T){d(T)}},W=C=>{try{w(s.throw(C))}catch(T){d(T)}},w=C=>C.done?u(C.value):Promise.resolve(C.value).then(L,W);w((s=s.apply(g,r)).next())});const m=({prefix:g,version:r})=>(0,y.request)(`${g}/deleteDoc/${r}`,{method:"DELETE"}),b=g=>f(void 0,null,function*(){try{return yield(0,y.request)(`/${a.Z}/getInfos`,{method:"GET"})}catch(r){return g({type:"warning",message:{id:"notification.error"}}),null}}),x=({prefix:g,version:r})=>(0,y.request)(`${g}/regenerateDoc`,{method:"POST",body:{version:r}}),M=({prefix:g,body:r})=>(0,y.request)(`${g}/updateSettings`,{method:"PUT",body:r});var h=t(798);const p=()=>{const g=(0,e.useQueryClient)(),r=(0,y.useNotification)(),{isLoading:s,data:u}=(0,e.useQuery)("get-documentation",()=>b(r)),d=T=>{r({type:"warning",message:T.response.payload.message})},L=(T,R)=>{g.invalidateQueries("get-documentation"),r({type:T,message:{id:(0,h.Z)(R)}})},W=(0,e.useMutation)(m,{onSuccess:()=>L("info","notification.delete.success"),onError:T=>d(T)}),w=(0,e.useMutation)(M,{onSuccess:()=>L("success","notification.update.success"),onError:d}),C=(0,e.useMutation)(x,{onSuccess:()=>L("info","notification.generate.success"),onError:T=>d(T)});return{data:u,isLoading:s,deleteMutation:W,submitMutation:w,regenerateDocMutation:C}}},798:(j,O,t)=>{t.d(O,{Z:()=>a});var e=t(49950);const a=f=>`${e.Z}.${f}`},93742:(j,O,t)=>{t.d(O,{O:()=>e.Z});var e=t(798)},49066:(j,O,t)=>{t.d(O,{D:()=>f});var e=t(67294),y=t(45697),a=t(35961);const f=({children:m})=>e.createElement(a.x,{paddingLeft:10,paddingRight:10},m);f.propTypes={children:y.node.isRequired}},67838:(j,O,t)=>{t.d(O,{T:()=>C});var e=t(67294),y=t(27821),a=t(45697),f=t(72735),m=t(35961),b=t(46273);const x=n=>{const i=(0,e.useRef)(null),[l,c]=(0,e.useState)(!0),B=([A])=>{c(A.isIntersecting)};return(0,e.useEffect)(()=>{const A=i.current,I=new IntersectionObserver(B,n);return A&&I.observe(i.current),()=>{A&&I.disconnect()}},[i,n]),[i,l]},M=(n,i)=>{(0,e.useLayoutEffect)(()=>{const l=new ResizeObserver(i);return Array.isArray(n)?n.map(c=>{c.current&&l.observe(c.current)}):n.current&&l.observe(n.current),()=>{l.disconnect()}},[])};var h=Object.defineProperty,E=Object.defineProperties,p=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,u=(n,i,l)=>i in n?h(n,i,{enumerable:!0,configurable:!0,writable:!0,value:l}):n[i]=l,d=(n,i)=>{for(var l in i||(i={}))r.call(i,l)&&u(n,l,i[l]);if(g)for(var l of g(i))s.call(i,l)&&u(n,l,i[l]);return n},L=(n,i)=>E(n,p(i)),W=(n,i)=>{var l={};for(var c in n)r.call(n,c)&&i.indexOf(c)<0&&(l[c]=n[c]);if(n!=null&&g)for(var c of g(n))i.indexOf(c)<0&&s.call(n,c)&&(l[c]=n[c]);return l};const w=()=>{const n=(0,e.useRef)(null),[i,l]=(0,e.useState)(null),[c,B]=x({root:null,rootMargin:"0px",threshold:0});return M(c,()=>{c.current&&l(c.current.getBoundingClientRect())}),(0,e.useEffect)(()=>{n.current&&l(n.current.getBoundingClientRect())},[n]),{containerRef:c,isVisible:B,baseHeaderLayoutRef:n,headerSize:i}},C=n=>{const{containerRef:i,isVisible:l,baseHeaderLayoutRef:c,headerSize:B}=w();return e.createElement(e.Fragment,null,e.createElement("div",{style:{height:B==null?void 0:B.height},ref:i},l&&e.createElement(R,d({ref:c},n))),!l&&e.createElement(R,L(d({},n),{sticky:!0,width:B==null?void 0:B.width})))};C.displayName="HeaderLayout";const T=(0,y.default)(m.x)`
  position: fixed;
  top: 0;
  right: 0;
  width: ${n=>n.width}px;
  z-index: 4;
  box-shadow: ${({theme:n})=>n.shadows.tableShadow};
`,R=e.forwardRef((n,i)=>{var l=n,{navigationAction:c,primaryAction:B,secondaryAction:A,subtitle:I,title:V,sticky:K,width:Q}=l,N=W(l,["navigationAction","primaryAction","secondaryAction","subtitle","title","sticky","width"]);const F=typeof I=="string";return K?e.createElement(T,{paddingLeft:6,paddingRight:6,paddingTop:3,paddingBottom:3,background:"neutral0",width:Q,"data-strapi-header-sticky":!0},e.createElement(b.k,{justifyContent:"space-between"},e.createElement(b.k,null,c&&e.createElement(m.x,{paddingRight:3},c),e.createElement(m.x,null,e.createElement(f.Z,d({variant:"beta",as:"h1"},N),V),F?e.createElement(f.Z,{variant:"pi",textColor:"neutral600"},I):I),A?e.createElement(m.x,{paddingLeft:4},A):null),e.createElement(b.k,null,B?e.createElement(m.x,{paddingLeft:2},B):void 0))):e.createElement(m.x,{ref:i,paddingLeft:10,paddingRight:10,paddingBottom:8,paddingTop:c?6:8,background:"neutral100","data-strapi-header":!0},c?e.createElement(m.x,{paddingBottom:2},c):null,e.createElement(b.k,{justifyContent:"space-between"},e.createElement(b.k,null,e.createElement(f.Z,d({as:"h1",variant:"alpha"},N),V),A?e.createElement(m.x,{paddingLeft:4},A):null),B),F?e.createElement(f.Z,{variant:"epsilon",textColor:"neutral600",as:"p"},I):I)});R.displayName="BaseHeaderLayout",R.defaultProps={navigationAction:void 0,primaryAction:void 0,secondaryAction:void 0,subtitle:void 0,sticky:!1,width:void 0},R.propTypes={navigationAction:a.node,primaryAction:a.node,secondaryAction:a.node,sticky:a.bool,subtitle:a.oneOfType([a.string,a.node]),title:a.string.isRequired,width:a.number},C.defaultProps={navigationAction:void 0,primaryAction:void 0,secondaryAction:void 0,subtitle:void 0},C.propTypes={navigationAction:a.node,primaryAction:a.node,secondaryAction:a.node,subtitle:a.oneOfType([a.string,a.node]),title:a.string.isRequired}},17034:(j,O,t)=>{t.d(O,{A:()=>x});var e=t(67294),y=t(45697),a=t(27821),f=t(35961);const m=(0,a.default)(f.x)`
  display: grid;
  grid-template-columns: ${({hasSideNav:M})=>M?"auto 1fr":"1fr"};
`,b=(0,a.default)(f.x)`
  overflow-x: hidden;
`,x=({sideNav:M,children:h})=>e.createElement(m,{hasSideNav:Boolean(M)},M,e.createElement(b,{paddingBottom:10},h));x.defaultProps={sideNav:void 0},x.propTypes={children:y.node.isRequired,sideNav:y.node}},185:(j,O,t)=>{t.d(O,{o:()=>g});var e=t(67294),y=t(45697),a=t(27821),f=Object.defineProperty,m=Object.getOwnPropertySymbols,b=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable,M=(r,s,u)=>s in r?f(r,s,{enumerable:!0,configurable:!0,writable:!0,value:u}):r[s]=u,h=(r,s)=>{for(var u in s||(s={}))b.call(s,u)&&M(r,u,s[u]);if(m)for(var u of m(s))x.call(s,u)&&M(r,u,s[u]);return r},E=(r,s)=>{var u={};for(var d in r)b.call(r,d)&&s.indexOf(d)<0&&(u[d]=r[d]);if(r!=null&&m)for(var d of m(r))s.indexOf(d)<0&&x.call(r,d)&&(u[d]=r[d]);return u};const p=a.default.main`
  // To prevent global outline on focus visible to force an outline when Main is focused
  &:focus-visible {
    outline: none;
  }
`,g=r=>{var s=r,{labelledBy:u}=s,d=E(s,["labelledBy"]);const L=u||"main-content-title";return e.createElement(p,h({"aria-labelledby":L,id:"main-content",tabIndex:-1},d))};g.defaultProps={labelledBy:void 0},g.propTypes={labelledBy:y.string}},30815:(j,O,t)=>{t.d(O,{Z:()=>M});var e=t(67294),y=Object.defineProperty,a=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,b=(h,E,p)=>E in h?y(h,E,{enumerable:!0,configurable:!0,writable:!0,value:p}):h[E]=p,x=(h,E)=>{for(var p in E||(E={}))f.call(E,p)&&b(h,p,E[p]);if(a)for(var p of a(E))m.call(E,p)&&b(h,p,E[p]);return h};function M(h){return e.createElement("svg",x({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},h),e.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.681 2.804A9.64 9.64 0 0011.818 2C6.398 2 2 6.48 2 12c0 5.521 4.397 10 9.818 10 2.03 0 4.011-.641 5.67-1.835a9.987 9.987 0 003.589-4.831 1.117 1.117 0 00-.664-1.418 1.086 1.086 0 00-1.393.676 7.769 7.769 0 01-2.792 3.758 7.546 7.546 0 01-4.41 1.428V4.222h.002a7.492 7.492 0 013.003.625 7.61 7.61 0 012.5 1.762l.464.551-2.986 3.042a.186.186 0 00.129.316H22V3.317a.188.188 0 00-.112-.172.179.179 0 00-.199.04l-2.355 2.4-.394-.468-.02-.02a9.791 9.791 0 00-3.239-2.293zm-3.863 1.418V2v2.222zm0 0v15.556c-4.216 0-7.636-3.484-7.636-7.778s3.42-7.777 7.636-7.778z",fill:"#212134"}))}}}]);
